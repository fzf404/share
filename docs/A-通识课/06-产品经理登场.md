> 需求分析
>
> 产品图
>
> 接口文档

## 需求分析

> 多用户的自我介绍展示网站

1. 编写目的：

    自我介绍信息做成网站，便于同学们互相了解
    
2. 功能分析

    - 全体同学列表
    - 自我介绍内容
    - 增加介绍内容
    - 修改介绍内容
    - 
3. 问题

    - 安全：增加介绍时需输入密码

## 绘制原型图

> 使用Axure

1. 全部用户列表页
2. 自我介绍详细内容页
3. 增加自我介绍页
4. 修改自我介绍页

## 接口文档

> 前后端共同商议接口文档

### 用户列表

请求方法：`GET`

请求地址：`http://127.0.0.1:8080/api/total`

说明：用于获取所有用户的列表

参数：无

返回值：

| 参数名 | 类型   | 说明     |
| ------ | ------ | -------- |
| code   | int    | 状态代码 |
| data   | object | 数据详情 |
| msg    | string | 信息     |

请求示例：

```bash
curl http://127.0.0.1:8080/api/total
```

响应示例：

```json
{
    "code": 200,
    "data": {
        "12306": "王山而",
        "2010020115": "孟祥瑞"
    },
    "msg": "Ok"
}
```

### 自我介绍详情

请求方法：`GET`

请求地址：`http://127.0.0.1:8080/api/intro`

说明：用于获取所有用户的列表

参数：Query

| 参数名 | 类型 | 必须 | 说明 |
| ------ | ---- | ---- | ---- |
| id     | int  | 是   | 学号 |

返回值：

| 参数名 | 类型   | 说明     |
| ------ | ------ | -------- |
| code   | int    | 状态代码 |
| data   | object | 数据详情 |
| msg    | string | 信息     |

data:

| 参数名 | 类型   | 说明           |
| ------ | ------ | -------------- |
| name   | string | 姓名           |
| sex    | bool   | 性别（0男1女） |
| intro  | string | 介绍           |
| about  | string | 爱好           |

请求示例：

```bash
curl http://127.0.0.1:8080/api/intro?id=12306 | python -m json.tool
```

响应示例：

```json
{
    "code": 200,
    "data": {
        "about": "身体健康，大脑健全，审美良好，抗压能力强。啥都不会，进去想学东西的，emmmm没了。",
        "intro": "大一学生，就读于沈阳理工大学艺术设计专业。",
        "name": "王山而",
        "sex": 1
    },
    "msg": "Ok"
}
```

### 增加自我介绍

请求方法：`POST`

请求地址：`http://127.0.0.1:8080/api/new`

说明：用于增加新用户的自我介绍

参数：`Content-Type: application/x-www-form-urlencoded`

| 参数名   | 类型   | 必须 | 说明           |
| -------- | ------ | ---- | -------------- |
| id       | int    | 是   | 学号           |
| name     | string | 是   | 姓名           |
| sex      | bool   | 是   | 性别（0男1女） |
| intro    | string | 是   | 介绍           |
| about    | string | 是   | 爱好           |
| password | string | 是   | 设置密码       |

返回值：

| 参数名 | 类型   | 说明     |
| ------ | ------ | -------- |
| code   | int    | 状态代码 |
| data   | object | 数据详情 |
| msg    | string | 信息     |

data:

| 参数名 | 类型   | 说明 |
| ------ | ------ | ---- |
| id     | int    | 学号 |
| name   | string | 姓名 |

请求示例：

```bash
id:2010020116
name:王山而
sex:1
intro:大一学生，就读于沈阳理工大学艺术设计专业。
about:身体健康，大脑健全，审美良好，抗压能力强。啥都不会，进去想学东西的，emmmm没了。
password:12345678
```

响应示例：

```json
{
    "code": 200,
    "data": {
        "id": "2010020116",
        "name": "王山而"
    },
    "msg": "Ok"
}
```

### 修改自我介绍

请求方法：`POST`

请求地址：`http://127.0.0.1:8080/api/update`

说明：用于更新用户的自我介绍

参数：`Content-Type: application/x-www-form-urlencoded`

| 参数名   | 类型   | 必须 | 说明           |
| -------- | ------ | ---- | -------------- |
| id       | int    | 是   | 学号           |
| name     | string | 是   | 姓名           |
| sex      | int    | 是   | 性别（0男1女） |
| intro    | string | 是   | 介绍           |
| about    | string | 是   | 关于           |
| password | string | 是   | 密码           |

返回值：

| 参数名 | 类型   | 说明     |
| ------ | ------ | -------- |
| code   | int    | 状态代码 |
| data   | object | 数据详情 |
| msg    | string | 信息     |

data：

| 参数名 | 类型   | 说明 |
| ------ | ------ | ---- |
| id     | int    | 学号 |
| name   | string | 姓名 |

请求示例：

```bash
{
    "id": "2010020116",
    "name": "王山而",
    "sex": "1",
    "password": "12345678",
    "intro": "大一学生，就读于沈阳理工大学艺术设计专业。",
    "about": "身体健康，大脑健全，审美良好，抗压能力强。啥都不会，进去想学东西的，emmmm没了。"
}
```

响应示例：

```json
{
    "code": 200,
    "data": {
        "id": "2010020116",
        "name": "王山而"
    },
    "msg": "Ok"
}
```
